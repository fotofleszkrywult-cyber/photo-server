{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Foto-Flesz\\\\Documents\\\\Wa\\u017Cne\\\\Foto-Flesz\\\\kadrowanie zdj\\u0119\\u0107 na stron\\u0119\\\\z serwerem\\\\photo-order-project\\\\frontend\\\\src\\\\PhotoEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from \"react\";\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@mui/material/Slider\";\nimport { motion } from \"framer-motion\";\nimport debounce from \"lodash.debounce\";\n\n/* ---------- Pomocnicze funkcje ---------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction createImage(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.crossOrigin = \"anonymous\";\n    img.src = url;\n  });\n}\nfunction getRadianAngle(degreeValue) {\n  return degreeValue * Math.PI / 180;\n}\nfunction rotateSize(width, height, rotation) {\n  const rad = getRadianAngle(rotation);\n  return {\n    width: Math.abs(Math.cos(rad) * width) + Math.abs(Math.sin(rad) * height),\n    height: Math.abs(Math.sin(rad) * width) + Math.abs(Math.cos(rad) * height)\n  };\n}\nasync function getCroppedImg(imageSrc, pixelCrop, rotation = 0, scale = 1) {\n  const image = await createImage(imageSrc);\n  const rad = getRadianAngle(rotation);\n  const {\n    width: bBoxWidth,\n    height: bBoxHeight\n  } = rotateSize(image.width, image.height, rotation);\n  const safeCanvas = document.createElement(\"canvas\");\n  safeCanvas.width = Math.round(bBoxWidth);\n  safeCanvas.height = Math.round(bBoxHeight);\n  const safeCtx = safeCanvas.getContext(\"2d\");\n  safeCtx.translate(safeCanvas.width / 2, safeCanvas.height / 2);\n  safeCtx.rotate(rad);\n  safeCtx.drawImage(image, -image.width / 2, -image.height / 2);\n  const outCanvas = document.createElement(\"canvas\");\n  outCanvas.width = Math.round(pixelCrop.width);\n  outCanvas.height = Math.round(pixelCrop.height);\n  const outCtx = outCanvas.getContext(\"2d\");\n  outCtx.imageSmoothingEnabled = true;\n  outCtx.imageSmoothingQuality = \"high\";\n  outCtx.drawImage(safeCanvas, Math.round(pixelCrop.x), Math.round(pixelCrop.y), Math.round(pixelCrop.width), Math.round(pixelCrop.height), 0, 0, outCanvas.width, outCanvas.height);\n  return new Promise(resolve => {\n    outCanvas.toBlob(blob => {\n      const url = URL.createObjectURL(blob);\n      resolve({\n        blob,\n        url\n      });\n    }, \"image/jpeg\", 1 // maksymalna jakoÅ›Ä‡ (bez kompresji)\n    );\n  });\n}\n\n/* ---------- Komponent gÅ‚Ã³wny ---------- */\nexport default function PhotoEditor() {\n  _s();\n  const [imageSrc, setImageSrc] = useState(null);\n  const [crop, setCrop] = useState({\n    x: 0,\n    y: 0\n  });\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [orders, setOrders] = useState([]);\n  const [format, setFormat] = useState(\"10x15\");\n  const [paper, setPaper] = useState(\"glossy\");\n  const [colorMode, setColorMode] = useState(\"color\");\n  const [quantity, setQuantity] = useState(1);\n  const [darkMode, setDarkMode] = useState(true);\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [clientData, setClientData] = useState({\n    name: \"\",\n    surname: \"\",\n    address: \"\",\n    phone: \"\"\n  });\n  const priceMap = {\n    \"10x15\": 1.5,\n    \"13x18\": 2,\n    \"15x21\": 2.5,\n    \"18x25\": 5,\n    \"21x30\": 10\n  };\n  const aspectMap = {\n    \"10x15\": 2 / 3,\n    \"13x18\": 13 / 18,\n    \"15x21\": 5 / 7,\n    \"18x25\": 18 / 25,\n    \"21x30\": 7 / 10\n  };\n  const [isLandscape, setIsLandscape] = useState(false);\n  const currentAspect = isLandscape ? 1 / (aspectMap[format] || 1) : aspectMap[format] || 1;\n  const onFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    setImageSrc(url);\n    setPreview(null);\n  };\n  const generatePreview = useCallback(debounce(async pixels => {\n    if (!imageSrc || !pixels) return;\n    const {\n      url\n    } = await getCroppedImg(imageSrc, pixels, rotation, 1);\n    setPreview(oldUrl => {\n      if (oldUrl) URL.revokeObjectURL(oldUrl);\n      return url;\n    });\n  }, 300), [imageSrc, rotation]);\n  const onCropComplete = useCallback((croppedArea, croppedPixels) => {\n    setCroppedAreaPixels(croppedPixels);\n    generatePreview(croppedPixels);\n  }, [generatePreview]);\n  const calculatePrice = (format, quantity) => {\n    let base = priceMap[format] || 0;\n    let mult = 1;\n    if (quantity < 5) mult = 2;else if (quantity < 10) mult = 1.5;else if (quantity >= 100) mult = 0.5;\n    return (base * mult * quantity).toFixed(2);\n  };\n  const addOrder = () => {\n    if (!preview) return;\n    const newOrder = {\n      id: orders.length + 1,\n      format,\n      paper,\n      colorMode,\n      quantity,\n      price: calculatePrice(format, quantity),\n      preview\n    };\n    setOrders([newOrder, ...orders]);\n    setPreview(null);\n    setImageSrc(null);\n  };\n  const handleSendOrder = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", clientData.name);\n      formData.append(\"surname\", clientData.surname);\n      formData.append(\"phone\", clientData.phone);\n      formData.append(\"address\", clientData.address);\n      formData.append(\"orderCount\", orders.length);\n      for (let i = 0; i < orders.length; i++) {\n        const order = orders[i];\n        const response = await fetch(order.preview);\n        const blob = await response.blob();\n        formData.append(`format_${i}`, order.format);\n        formData.append(`paper_${i}`, order.paper);\n        formData.append(`colorMode_${i}`, order.colorMode);\n        formData.append(`quantity_${i}`, order.quantity);\n        formData.append(`price_${i}`, order.price);\n        formData.append(`image_${i}`, blob, `${order.quantity}_${order.colorMode}.jpg`);\n      }\n      const res = await fetch(\"http://localhost:5001/upload\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!res.ok) throw new Error(\"BÅ‚Ä…d poÅ‚Ä…czenia\");\n      alert(\"âœ… ZamÃ³wienie wysÅ‚ane!\");\n      setOrders([]);\n      setShowOrderForm(false);\n    } catch (err) {\n      console.error(err);\n      alert(\"âŒ BÅ‚Ä…d poÅ‚Ä…czenia lub przetwarzania. SprawdÅº konsolÄ™.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    animate: {\n      backgroundColor: darkMode ? \"#1a1a1a\" : \"#f5f5f5\"\n    },\n    transition: {\n      duration: 0.5\n    },\n    style: {\n      minHeight: \"100vh\",\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl mb-4\",\n      children: \"\\uD83D\\uDCF8 Kadrowanie zdj\\u0119\\u0107\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), !imageSrc && /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: onFileChange,\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this), imageSrc && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-[70vh] bg-gray-800 rounded-2xl overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(Cropper, {\n        image: imageSrc,\n        crop: crop,\n        zoom: zoom,\n        rotation: rotation,\n        aspect: currentAspect,\n        onCropChange: setCrop,\n        onRotationChange: setRotation,\n        onZoomChange: setZoom,\n        onCropComplete: onCropComplete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Podgl\\u0105d kadru:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"preview\",\n        className: \"max-w-xs rounded-xl shadow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex flex-wrap gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: format,\n        onChange: e => setFormat(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10x15\",\n          children: \"10x15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"13x18\",\n          children: \"13x18\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"15x21\",\n          children: \"15x21\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"18x25\",\n          children: \"18x25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"21x30\",\n          children: \"21x30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: paper,\n        onChange: e => setPaper(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"glossy\",\n          children: \"B\\u0142yszcz\\u0105cy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"matte\",\n          children: \"Matowy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: colorMode,\n        onChange: e => setColorMode(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"color\",\n          children: \"Kolor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sepia\",\n          children: \"Sepia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"bw\",\n          children: \"Czarno-bia\\u0142y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: quantity,\n        min: 1,\n        onChange: e => setQuantity(parseInt(e.target.value)),\n        className: \"w-20 border p-1 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addOrder,\n        className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl\",\n        children: \"\\u2795 Dodaj zdj\\u0119cie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), orders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl mb-3\",\n        children: \"\\uD83D\\uDED2 Twoje zam\\xF3wienie:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: orders.map(o => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"mb-2 border-b pb-2\",\n          children: [o.format, \", \", o.paper, \", \", o.colorMode, \", \", o.quantity, \"szt \\u2014 \", o.price, \" z\\u0142\"]\n        }, o.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowOrderForm(true),\n        className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 mt-3 rounded-xl\",\n        children: \"\\uD83D\\uDCE4 Wy\\u015Blij zam\\xF3wienie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this), showOrderForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-4 border rounded-xl bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg mb-2\",\n        children: \"Dane klienta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Imi\\u0119\",\n        value: clientData.name,\n        onChange: e => setClientData({\n          ...clientData,\n          name: e.target.value\n        }),\n        className: \"block mb-2 p-2 border rounded w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Nazwisko\",\n        value: clientData.surname,\n        onChange: e => setClientData({\n          ...clientData,\n          surname: e.target.value\n        }),\n        className: \"block mb-2 p-2 border rounded w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Adres\",\n        value: clientData.address,\n        onChange: e => setClientData({\n          ...clientData,\n          address: e.target.value\n        }),\n        className: \"block mb-2 p-2 border rounded w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Telefon\",\n        value: clientData.phone,\n        onChange: e => setClientData({\n          ...clientData,\n          phone: e.target.value\n        }),\n        className: \"block mb-2 p-2 border rounded w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSendOrder,\n        className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl\",\n        children: \"\\u2705 Wy\\u015Blij\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n_s(PhotoEditor, \"BHkAI8tBTpRRSOp47L+wkWiKmVE=\");\n_c = PhotoEditor;\nvar _c;\n$RefreshReg$(_c, \"PhotoEditor\");","map":{"version":3,"names":["React","useState","useCallback","Cropper","Slider","motion","debounce","jsxDEV","_jsxDEV","createImage","url","Promise","resolve","reject","img","Image","onload","onerror","crossOrigin","src","getRadianAngle","degreeValue","Math","PI","rotateSize","width","height","rotation","rad","abs","cos","sin","getCroppedImg","imageSrc","pixelCrop","scale","image","bBoxWidth","bBoxHeight","safeCanvas","document","createElement","round","safeCtx","getContext","translate","rotate","drawImage","outCanvas","outCtx","imageSmoothingEnabled","imageSmoothingQuality","x","y","toBlob","blob","URL","createObjectURL","PhotoEditor","_s","setImageSrc","crop","setCrop","zoom","setZoom","setRotation","croppedAreaPixels","setCroppedAreaPixels","preview","setPreview","orders","setOrders","format","setFormat","paper","setPaper","colorMode","setColorMode","quantity","setQuantity","darkMode","setDarkMode","showOrderForm","setShowOrderForm","clientData","setClientData","name","surname","address","phone","priceMap","aspectMap","isLandscape","setIsLandscape","currentAspect","onFileChange","e","_e$target$files","file","target","files","generatePreview","pixels","oldUrl","revokeObjectURL","onCropComplete","croppedArea","croppedPixels","calculatePrice","base","mult","toFixed","addOrder","newOrder","id","length","price","handleSendOrder","formData","FormData","append","i","order","response","fetch","res","method","body","ok","Error","alert","err","console","error","div","animate","backgroundColor","transition","duration","style","minHeight","padding","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","aspect","onCropChange","onRotationChange","onZoomChange","alt","value","min","parseInt","onClick","map","o","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Foto-Flesz/Documents/WaÅ¼ne/Foto-Flesz/kadrowanie zdjÄ™Ä‡ na stronÄ™/z serwerem/photo-order-project/frontend/src/PhotoEditor.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@mui/material/Slider\";\nimport { motion } from \"framer-motion\";\nimport debounce from \"lodash.debounce\";\n\n/* ---------- Pomocnicze funkcje ---------- */\nfunction createImage(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.crossOrigin = \"anonymous\";\n    img.src = url;\n  });\n}\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\nfunction rotateSize(width, height, rotation) {\n  const rad = getRadianAngle(rotation);\n  return {\n    width: Math.abs(Math.cos(rad) * width) + Math.abs(Math.sin(rad) * height),\n    height: Math.abs(Math.sin(rad) * width) + Math.abs(Math.cos(rad) * height),\n  };\n}\n\nasync function getCroppedImg(imageSrc, pixelCrop, rotation = 0, scale = 1) {\n  const image = await createImage(imageSrc);\n  const rad = getRadianAngle(rotation);\n  const { width: bBoxWidth, height: bBoxHeight } = rotateSize(image.width, image.height, rotation);\n\n  const safeCanvas = document.createElement(\"canvas\");\n  safeCanvas.width = Math.round(bBoxWidth);\n  safeCanvas.height = Math.round(bBoxHeight);\n  const safeCtx = safeCanvas.getContext(\"2d\");\n  safeCtx.translate(safeCanvas.width / 2, safeCanvas.height / 2);\n  safeCtx.rotate(rad);\n  safeCtx.drawImage(image, -image.width / 2, -image.height / 2);\n\n  const outCanvas = document.createElement(\"canvas\");\n  outCanvas.width = Math.round(pixelCrop.width);\n  outCanvas.height = Math.round(pixelCrop.height);\n  const outCtx = outCanvas.getContext(\"2d\");\n  outCtx.imageSmoothingEnabled = true;\n  outCtx.imageSmoothingQuality = \"high\";\n  outCtx.drawImage(\n    safeCanvas,\n    Math.round(pixelCrop.x),\n    Math.round(pixelCrop.y),\n    Math.round(pixelCrop.width),\n    Math.round(pixelCrop.height),\n    0,\n    0,\n    outCanvas.width,\n    outCanvas.height\n  );\n\n  return new Promise((resolve) => {\n    outCanvas.toBlob(\n      (blob) => {\n        const url = URL.createObjectURL(blob);\n        resolve({ blob, url });\n      },\n      \"image/jpeg\",\n      1 // maksymalna jakoÅ›Ä‡ (bez kompresji)\n    );\n  });\n}\n\n/* ---------- Komponent gÅ‚Ã³wny ---------- */\nexport default function PhotoEditor() {\n  const [imageSrc, setImageSrc] = useState(null);\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [orders, setOrders] = useState([]);\n  const [format, setFormat] = useState(\"10x15\");\n  const [paper, setPaper] = useState(\"glossy\");\n  const [colorMode, setColorMode] = useState(\"color\");\n  const [quantity, setQuantity] = useState(1);\n  const [darkMode, setDarkMode] = useState(true);\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [clientData, setClientData] = useState({ name: \"\", surname: \"\", address: \"\", phone: \"\" });\n\n  const priceMap = { \"10x15\": 1.5, \"13x18\": 2, \"15x21\": 2.5, \"18x25\": 5, \"21x30\": 10 };\n  const aspectMap = { \"10x15\": 2 / 3, \"13x18\": 13 / 18, \"15x21\": 5 / 7, \"18x25\": 18 / 25, \"21x30\": 7 / 10 };\n  const [isLandscape, setIsLandscape] = useState(false);\n  const currentAspect = isLandscape ? 1 / (aspectMap[format] || 1) : aspectMap[format] || 1;\n\n  const onFileChange = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    setImageSrc(url);\n    setPreview(null);\n  };\n\n  const generatePreview = useCallback(\n    debounce(async (pixels) => {\n      if (!imageSrc || !pixels) return;\n      const { url } = await getCroppedImg(imageSrc, pixels, rotation, 1);\n      setPreview((oldUrl) => {\n        if (oldUrl) URL.revokeObjectURL(oldUrl);\n        return url;\n      });\n    }, 300),\n    [imageSrc, rotation]\n  );\n\n  const onCropComplete = useCallback(\n    (croppedArea, croppedPixels) => {\n      setCroppedAreaPixels(croppedPixels);\n      generatePreview(croppedPixels);\n    },\n    [generatePreview]\n  );\n\n  const calculatePrice = (format, quantity) => {\n    let base = priceMap[format] || 0;\n    let mult = 1;\n    if (quantity < 5) mult = 2;\n    else if (quantity < 10) mult = 1.5;\n    else if (quantity >= 100) mult = 0.5;\n    return (base * mult * quantity).toFixed(2);\n  };\n\n  const addOrder = () => {\n    if (!preview) return;\n    const newOrder = {\n      id: orders.length + 1,\n      format,\n      paper,\n      colorMode,\n      quantity,\n      price: calculatePrice(format, quantity),\n      preview,\n    };\n    setOrders([newOrder, ...orders]);\n    setPreview(null);\n    setImageSrc(null);\n  };\n\n  const handleSendOrder = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", clientData.name);\n      formData.append(\"surname\", clientData.surname);\n      formData.append(\"phone\", clientData.phone);\n      formData.append(\"address\", clientData.address);\n      formData.append(\"orderCount\", orders.length);\n\n      for (let i = 0; i < orders.length; i++) {\n        const order = orders[i];\n        const response = await fetch(order.preview);\n        const blob = await response.blob();\n\n        formData.append(`format_${i}`, order.format);\n        formData.append(`paper_${i}`, order.paper);\n        formData.append(`colorMode_${i}`, order.colorMode);\n        formData.append(`quantity_${i}`, order.quantity);\n        formData.append(`price_${i}`, order.price);\n        formData.append(`image_${i}`, blob, `${order.quantity}_${order.colorMode}.jpg`);\n      }\n\n      const res = await fetch(\"http://localhost:5001/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!res.ok) throw new Error(\"BÅ‚Ä…d poÅ‚Ä…czenia\");\n      alert(\"âœ… ZamÃ³wienie wysÅ‚ane!\");\n      setOrders([]);\n      setShowOrderForm(false);\n    } catch (err) {\n      console.error(err);\n      alert(\"âŒ BÅ‚Ä…d poÅ‚Ä…czenia lub przetwarzania. SprawdÅº konsolÄ™.\");\n    }\n  };\n\n  return (\n    <motion.div\n      animate={{ backgroundColor: darkMode ? \"#1a1a1a\" : \"#f5f5f5\" }}\n      transition={{ duration: 0.5 }}\n      style={{ minHeight: \"100vh\", padding: 20 }}\n    >\n      <h1 className=\"text-2xl mb-4\">ðŸ“¸ Kadrowanie zdjÄ™Ä‡</h1>\n\n      {!imageSrc && (\n        <input type=\"file\" accept=\"image/*\" onChange={onFileChange} className=\"mb-4\" />\n      )}\n\n      {imageSrc && (\n        <div className=\"relative w-full h-[70vh] bg-gray-800 rounded-2xl overflow-hidden\">\n          <Cropper\n            image={imageSrc}\n            crop={crop}\n            zoom={zoom}\n            rotation={rotation}\n            aspect={currentAspect}\n            onCropChange={setCrop}\n            onRotationChange={setRotation}\n            onZoomChange={setZoom}\n            onCropComplete={onCropComplete}\n          />\n        </div>\n      )}\n\n      {preview && (\n        <div className=\"mt-4\">\n          <h2>PodglÄ…d kadru:</h2>\n          <img src={preview} alt=\"preview\" className=\"max-w-xs rounded-xl shadow\" />\n        </div>\n      )}\n\n      <div className=\"mt-4 flex flex-wrap gap-3\">\n        <select value={format} onChange={(e) => setFormat(e.target.value)}>\n          <option value=\"10x15\">10x15</option>\n          <option value=\"13x18\">13x18</option>\n          <option value=\"15x21\">15x21</option>\n          <option value=\"18x25\">18x25</option>\n          <option value=\"21x30\">21x30</option>\n        </select>\n\n        <select value={paper} onChange={(e) => setPaper(e.target.value)}>\n          <option value=\"glossy\">BÅ‚yszczÄ…cy</option>\n          <option value=\"matte\">Matowy</option>\n        </select>\n\n        <select value={colorMode} onChange={(e) => setColorMode(e.target.value)}>\n          <option value=\"color\">Kolor</option>\n          <option value=\"sepia\">Sepia</option>\n          <option value=\"bw\">Czarno-biaÅ‚y</option>\n        </select>\n\n        <input\n          type=\"number\"\n          value={quantity}\n          min={1}\n          onChange={(e) => setQuantity(parseInt(e.target.value))}\n          className=\"w-20 border p-1 rounded\"\n        />\n\n        <button\n          onClick={addOrder}\n          className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl\"\n        >\n          âž• Dodaj zdjÄ™cie\n        </button>\n      </div>\n\n      {orders.length > 0 && (\n        <div className=\"mt-6\">\n          <h2 className=\"text-xl mb-3\">ðŸ›’ Twoje zamÃ³wienie:</h2>\n          <ul>\n            {orders.map((o) => (\n              <li key={o.id} className=\"mb-2 border-b pb-2\">\n                {o.format}, {o.paper}, {o.colorMode}, {o.quantity}szt â€” {o.price} zÅ‚\n              </li>\n            ))}\n          </ul>\n          <button\n            onClick={() => setShowOrderForm(true)}\n            className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 mt-3 rounded-xl\"\n          >\n            ðŸ“¤ WyÅ›lij zamÃ³wienie\n          </button>\n        </div>\n      )}\n\n      {showOrderForm && (\n        <div className=\"mt-4 p-4 border rounded-xl bg-gray-100\">\n          <h3 className=\"text-lg mb-2\">Dane klienta</h3>\n          <input\n            placeholder=\"ImiÄ™\"\n            value={clientData.name}\n            onChange={(e) => setClientData({ ...clientData, name: e.target.value })}\n            className=\"block mb-2 p-2 border rounded w-full\"\n          />\n          <input\n            placeholder=\"Nazwisko\"\n            value={clientData.surname}\n            onChange={(e) => setClientData({ ...clientData, surname: e.target.value })}\n            className=\"block mb-2 p-2 border rounded w-full\"\n          />\n          <input\n            placeholder=\"Adres\"\n            value={clientData.address}\n            onChange={(e) => setClientData({ ...clientData, address: e.target.value })}\n            className=\"block mb-2 p-2 border rounded w-full\"\n          />\n          <input\n            placeholder=\"Telefon\"\n            value={clientData.phone}\n            onChange={(e) => setClientData({ ...clientData, phone: e.target.value })}\n            className=\"block mb-2 p-2 border rounded w-full\"\n          />\n\n          <button\n            onClick={handleSendOrder}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl\"\n          >\n            âœ… WyÅ›lij\n          </button>\n        </div>\n      )}\n    </motion.div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}