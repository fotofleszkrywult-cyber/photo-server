{"ast":null,"code":"import _objectSpread from\"C:/Users/Foto-Flesz/Documents/Wa\\u017Cne/Foto-Flesz/kadrowanie zdj\\u0119\\u0107 na stron\\u0119/z serwerem/na stron\\u0119/photo-order-project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback,useEffect}from'react';import Cropper from'react-easy-crop';import Slider from'@mui/material/Slider';import{motion}from'framer-motion';import debounce from'lodash.debounce';/* ---------- Pomocnicze funkcje ---------- */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function createImage(url){return new Promise((resolve,reject)=>{const img=new Image();img.onload=()=>resolve(img);img.onerror=reject;img.crossOrigin='anonymous';img.src=url;});}function getRadianAngle(degreeValue){return degreeValue*Math.PI/180;}function rotateSize(width,height,rotation){const rad=getRadianAngle(rotation);return{width:Math.abs(Math.cos(rad)*width)+Math.abs(Math.sin(rad)*height),height:Math.abs(Math.sin(rad)*width)+Math.abs(Math.cos(rad)*height)};}// ‚úÖ Pe≈Çna rozdzielczo≈õƒá przy zapisie\nasync function getCroppedImg(imageSrc,pixelCrop){let rotation=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const image=await createImage(imageSrc);const rad=getRadianAngle(rotation);const{width:bBoxWidth,height:bBoxHeight}=rotateSize(image.width,image.height,rotation);const safeCanvas=document.createElement('canvas');safeCanvas.width=bBoxWidth;safeCanvas.height=bBoxHeight;const safeCtx=safeCanvas.getContext('2d');safeCtx.translate(bBoxWidth/2,bBoxHeight/2);safeCtx.rotate(rad);safeCtx.drawImage(image,-image.width/2,-image.height/2);const outCanvas=document.createElement('canvas');outCanvas.width=pixelCrop.width;outCanvas.height=pixelCrop.height;const outCtx=outCanvas.getContext('2d');outCtx.imageSmoothingEnabled=true;outCtx.imageSmoothingQuality='high';outCtx.drawImage(safeCanvas,pixelCrop.x,pixelCrop.y,pixelCrop.width,pixelCrop.height,0,0,pixelCrop.width,pixelCrop.height);return new Promise(resolve=>{outCanvas.toBlob(blob=>{const url=URL.createObjectURL(blob);resolve(url);},'image/jpeg',1.0);// 1.0 = bez kompresji\n});}/* ---------- Komponent g≈Ç√≥wny ---------- */export default function PhotoEditor(){const[imageSrc,setImageSrc]=useState(null);const[crop,setCrop]=useState({x:0,y:0});const[zoom,setZoom]=useState(1);const[rotation,setRotation]=useState(0);const[croppedAreaPixels,setCroppedAreaPixels]=useState(null);const[preview,setPreview]=useState(null);const[orders,setOrders]=useState([]);const[format,setFormat]=useState('10x15');const[paper,setPaper]=useState('glossy');const[colorMode,setColorMode]=useState('color');const[quantity,setQuantity]=useState(1);const[darkMode,setDarkMode]=useState(true);const[imageSize,setImageSize]=useState({width:0,height:0});const[isLandscape,setIsLandscape]=useState(false);const[showOrderForm,setShowOrderForm]=useState(false);const[clientData,setClientData]=useState({name:'',surname:'',address:'',phone:''});const priceMap={'10x15':1.5,'13x18':2,'15x21':2.5,'18x25':5,'21x30':10};const aspectMap={'10x15':2/3,'13x18':13/18,'15x21':5/7,'18x25':18/25,'21x30':7/10};const currentAspect=isLandscape?1/(aspectMap[format]||1):aspectMap[format]||1;/* ---------- Wczytanie pliku ---------- */const onFileChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;const url=URL.createObjectURL(file);setImageSrc(url);setPreview(null);setCrop({x:0,y:0});setZoom(1);setRotation(0);createImage(url).then(img=>setImageSize({width:img.width,height:img.height}));};const generatePreview=useCallback(debounce(async pixels=>{if(!imageSrc||!pixels)return;const url=await getCroppedImg(imageSrc,pixels,rotation);setPreview(oldUrl=>{if(oldUrl)URL.revokeObjectURL(oldUrl);return url;});},300),[imageSrc,rotation]);const onCropComplete=useCallback((croppedArea,croppedPixels)=>{setCroppedAreaPixels(croppedPixels);generatePreview(croppedPixels);},[generatePreview]);const computeMinZoom=useCallback(()=>{if(!imageSize.width||!croppedAreaPixels)return 0.1;const cropW=croppedAreaPixels.width;const cropH=croppedAreaPixels.height;const rad=getRadianAngle(rotation);const cos=Math.abs(Math.cos(rad));const sin=Math.abs(Math.sin(rad));const rotatedW=cropW*cos+cropH*sin;const rotatedH=cropW*sin+cropH*cos;return Math.max(rotatedW/imageSize.width,rotatedH/imageSize.height,0.1);},[croppedAreaPixels,rotation,imageSize]);useEffect(()=>{if(!imageSize.width||!croppedAreaPixels)return;const minZoom=computeMinZoom();if(zoom<minZoom)setZoom(minZoom);},[rotation,zoom,croppedAreaPixels,imageSize,computeMinZoom]);const calculatePrice=useCallback((format,quantity)=>{let base=priceMap[format]||0;let mult=1;if(quantity<5)mult=2;else if(quantity<10)mult=1.5;else if(quantity>=100)mult=0.5;return(base*mult*quantity).toFixed(2);},[]);const addOrder=()=>{if(!preview)return;const newOrder={id:orders.length+1,format:isLandscape?format+' (obr.)':format,paper,colorMode,quantity,price:calculatePrice(format,quantity),preview};setOrders([newOrder,...orders]);setPreview(null);setImageSrc(null);setCrop({x:0,y:0});setZoom(1);setRotation(0);setCroppedAreaPixels(null);};const resetImage=()=>{setImageSrc(null);setPreview(null);setCrop({x:0,y:0});setZoom(1);setRotation(0);setCroppedAreaPixels(null);};/* ---------- Wy≈õlij zam√≥wienie ---------- */const sendOrder=async()=>{if(orders.length===0)return alert('Brak zam√≥wie≈Ñ.');if(!clientData.name||!clientData.surname||!clientData.phone)return alert('Uzupe≈Çnij dane klienta (imiƒô, nazwisko, telefon).');try{const formData=new FormData();// dane klienta\nformData.append(\"name\",clientData.name);formData.append(\"surname\",clientData.surname);formData.append(\"address\",clientData.address);formData.append(\"phone\",clientData.phone);// pliki i parametry\nfor(let i=0;i<orders.length;i++){const o=orders[i];const blob=await fetch(o.preview).then(r=>r.blob());formData.append(\"orders[\".concat(i,\"][format]\"),o.format);formData.append(\"orders[\".concat(i,\"][paper]\"),o.paper);formData.append(\"orders[\".concat(i,\"][colorMode]\"),o.colorMode);formData.append(\"orders[\".concat(i,\"][quantity]\"),o.quantity);formData.append(\"orders[\".concat(i,\"][price]\"),o.price);formData.append(\"orders[\".concat(i,\"][image]\"),blob,\"\".concat(o.format,\"_\").concat(o.paper,\"_\").concat(o.colorMode,\"_\").concat(i+1,\".jpg\"));}const res=await fetch(\"https://fotofleszkrywult-cyber/photo-server/upload\",{method:\"POST\",body:formData});if(!res.ok)throw new Error(\"B≈ÇƒÖd serwera\");alert(\"‚úÖ Zam√≥wienie wys≈Çane!\");setOrders([]);setClientData({name:\"\",surname:\"\",address:\"\",phone:\"\"});setShowOrderForm(false);}catch(err){console.error(\"‚ùå B≈ÇƒÖd po≈ÇƒÖczenia:\",err);alert(\"‚ùå B≈ÇƒÖd po≈ÇƒÖczenia lub przetwarzania. Sprawd≈∫ konsolƒô.\");}};/* ---------- UI ---------- */return/*#__PURE__*/_jsx(motion.div,{animate:{backgroundColor:darkMode?\"#1a1a1a\":\"#f5f5f5\"},transition:{duration:0.5},style:{minHeight:\"100vh\",padding:20},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:20},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60%',backgroundColor:darkMode?\"#333\":\"#fff\",borderRadius:8,overflow:'hidden',display:'flex',flexDirection:'column',alignItems:'center',padding:20,height:900},children:/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,width:'100%',overflowY:'auto',display:'flex',flexDirection:'column',alignItems:'center',gap:10},children:[!imageSrc&&!preview&&/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:400,position:'relative',display:'flex',justifyContent:'center',alignItems:'center',borderRadius:8,overflow:'hidden',backgroundColor:darkMode?'#444':'#eee'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileChange,style:{position:'absolute',width:'100%',height:'100%',opacity:0,cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',pointerEvents:'none'},children:\"Wybierz zdj\\u0119cie\"})]}),imageSrc&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:400,position:'relative',borderRadius:8,overflow:'hidden'},children:/*#__PURE__*/_jsx(Cropper,{image:imageSrc,crop:crop,zoom:zoom,rotation:rotation,aspect:currentAspect,cropShape:\"rect\",objectFit:\"contain\",restrictPosition:true,onCropChange:setCrop,onCropComplete:onCropComplete,onZoomChange:v=>setZoom(Math.max(v,computeMinZoom())),showGrid:true})}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},onClick:resetImage,style:{marginTop:10},children:\"Wybierz inne zdj\\u0119cie\"}),preview&&/*#__PURE__*/_jsxs(\"div\",{style:{width:300,display:'flex',flexDirection:'column',alignItems:'center',marginTop:20},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:5,fontWeight:'bold',color:'#fff'},children:\"Podgl\\u0105d kadru\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:300,height:300,overflow:'hidden',display:'flex',justifyContent:'center',alignItems:'center',backgroundColor:'transparent'},children:/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Live preview\",style:{width:'100%',height:'100%',objectFit:'contain',filter:colorMode==='bw'?'grayscale(100%)':colorMode==='sepia'?'sepia(100%)':'none'}})})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'40%',padding:20,borderRadius:8,backgroundColor:darkMode?'#222':'#fff',color:darkMode?'#fff':'#000',display:'flex',flexDirection:'column',gap:12},children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>setDarkMode(!darkMode),whileHover:{scale:1.2},style:{fontSize:24,cursor:'pointer',background:'transparent',border:'none',color:darkMode?\"#FFD700\":\"#555\"},children:darkMode?\"üåû\":\"üåô\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Format papieru\"}),/*#__PURE__*/_jsxs(\"select\",{value:format,onChange:e=>setFormat(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"10x15\",children:\"10\\xD715\"}),/*#__PURE__*/_jsx(\"option\",{value:\"13x18\",children:\"13\\xD718\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15x21\",children:\"15\\xD721\"}),/*#__PURE__*/_jsx(\"option\",{value:\"18x25\",children:\"18\\xD725\"}),/*#__PURE__*/_jsx(\"option\",{value:\"21x30\",children:\"21\\xD730\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:4},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isLandscape,onChange:e=>setIsLandscape(e.target.checked)}),\" Obr\\xF3\\u0107 orientacj\\u0119\"]}),/*#__PURE__*/_jsx(\"label\",{children:\"Rodzaj papieru\"}),/*#__PURE__*/_jsxs(\"select\",{value:paper,onChange:e=>setPaper(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"glossy\",children:\"Glossy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lustre\",children:\"Lustre\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Kolor\"}),/*#__PURE__*/_jsxs(\"select\",{value:colorMode,onChange:e=>setColorMode(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"color\",children:\"Kolorowe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bw\",children:\"Czarno-bia\\u0142e\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sepia\",children:\"Sepia\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Ilo\\u015B\\u0107\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:quantity,onChange:e=>setQuantity(Number(e.target.value))}),/*#__PURE__*/_jsx(\"label\",{children:\"Zoom\"}),/*#__PURE__*/_jsx(Slider,{min:0.1,max:3,step:0.01,value:zoom,onChange:(_,v)=>setZoom(Math.max(v,computeMinZoom()))}),/*#__PURE__*/_jsx(\"label\",{children:\"Obr\\xF3t kadru (\\xB0)\"}),/*#__PURE__*/_jsx(Slider,{min:-180,max:180,step:1,value:rotation,onChange:(_,v)=>setRotation(v)}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},onClick:addOrder,children:\"Dodaj do zam\\xF3wie\\u0144\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Zam\\xF3wienia\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:orders.map((o,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{display:'flex',alignItems:'center',marginBottom:10,gap:10,backgroundColor:darkMode?'#333':'#f5f5f5',padding:8,borderRadius:6},children:[/*#__PURE__*/_jsx(\"img\",{src:o.preview,alt:\"mini\",style:{width:50,height:50,objectFit:'cover',borderRadius:4,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{children:[o.format,\", \",o.paper,\", \",o.colorMode]})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:o.quantity,onChange:e=>{const newQuantity=Number(e.target.value);setOrders(prev=>{const updated=[...prev];updated[index]=_objectSpread(_objectSpread({},updated[index]),{},{quantity:newQuantity,price:calculatePrice(updated[index].format,newQuantity)});return updated;});},style:{width:60,textAlign:'center',borderRadius:4}}),/*#__PURE__*/_jsxs(\"div\",{style:{width:60,textAlign:'right'},children:[o.price,\" z\\u0142\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOrders(prev=>prev.filter(order=>order.id!==o.id)),style:{cursor:'pointer',border:'none',background:'transparent',color:'red',fontSize:16},children:\"\\u274C\"})]},o.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,fontWeight:'bold',textAlign:'right'},children:[\"\\u0141\\u0105czna kwota: \",orders.reduce((sum,o)=>sum+Number(o.price),0).toFixed(2),\" z\\u0142\"]}),orders.length>0&&!showOrderForm&&/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},style:{marginTop:20},onClick:()=>setShowOrderForm(true),children:\"Realizuj zam\\xF3wienie\"}),showOrderForm&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20,display:'flex',flexDirection:'column',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Imi\\u0119\",value:clientData.name,onChange:e=>setClientData(_objectSpread(_objectSpread({},clientData),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nazwisko\",value:clientData.surname,onChange:e=>setClientData(_objectSpread(_objectSpread({},clientData),{},{surname:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Adres\",value:clientData.address,onChange:e=>setClientData(_objectSpread(_objectSpread({},clientData),{},{address:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Telefon\",value:clientData.phone,onChange:e=>setClientData(_objectSpread(_objectSpread({},clientData),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},style:{marginTop:10},onClick:sendOrder,children:\"Wy\\u015Blij zam\\xF3wienie\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useCallback","useEffect","Cropper","Slider","motion","debounce","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","createImage","url","Promise","resolve","reject","img","Image","onload","onerror","crossOrigin","src","getRadianAngle","degreeValue","Math","PI","rotateSize","width","height","rotation","rad","abs","cos","sin","getCroppedImg","imageSrc","pixelCrop","arguments","length","undefined","image","bBoxWidth","bBoxHeight","safeCanvas","document","createElement","safeCtx","getContext","translate","rotate","drawImage","outCanvas","outCtx","imageSmoothingEnabled","imageSmoothingQuality","x","y","toBlob","blob","URL","createObjectURL","PhotoEditor","setImageSrc","crop","setCrop","zoom","setZoom","setRotation","croppedAreaPixels","setCroppedAreaPixels","preview","setPreview","orders","setOrders","format","setFormat","paper","setPaper","colorMode","setColorMode","quantity","setQuantity","darkMode","setDarkMode","imageSize","setImageSize","isLandscape","setIsLandscape","showOrderForm","setShowOrderForm","clientData","setClientData","name","surname","address","phone","priceMap","aspectMap","currentAspect","onFileChange","e","_e$target$files","file","target","files","then","generatePreview","pixels","oldUrl","revokeObjectURL","onCropComplete","croppedArea","croppedPixels","computeMinZoom","cropW","cropH","rotatedW","rotatedH","max","minZoom","calculatePrice","base","mult","toFixed","addOrder","newOrder","id","price","resetImage","sendOrder","alert","formData","FormData","append","i","o","fetch","r","concat","res","method","body","ok","Error","err","console","error","div","animate","backgroundColor","transition","duration","style","minHeight","padding","children","display","gap","borderRadius","overflow","flexDirection","alignItems","flex","overflowY","position","justifyContent","type","onChange","opacity","cursor","color","pointerEvents","aspect","cropShape","objectFit","restrictPosition","onCropChange","onZoomChange","v","showGrid","button","whileHover","scale","onClick","marginTop","marginBottom","fontWeight","alt","filter","fontSize","background","border","value","checked","min","Number","step","_","listStyle","map","index","newQuantity","prev","updated","_objectSpread","textAlign","order","reduce","sum","placeholder"],"sources":["C:/Users/Foto-Flesz/Documents/Wa≈ºne/Foto-Flesz/kadrowanie zdjƒôƒá na stronƒô/z serwerem/na stronƒô/photo-order-project/frontend/src/PhotoEditor.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport Cropper from 'react-easy-crop';\nimport Slider from '@mui/material/Slider';\nimport { motion } from 'framer-motion';\nimport debounce from 'lodash.debounce';\n\n/* ---------- Pomocnicze funkcje ---------- */\nfunction createImage(url) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.crossOrigin = 'anonymous';\n    img.src = url;\n  });\n}\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\nfunction rotateSize(width, height, rotation) {\n  const rad = getRadianAngle(rotation);\n  return {\n    width: Math.abs(Math.cos(rad) * width) + Math.abs(Math.sin(rad) * height),\n    height: Math.abs(Math.sin(rad) * width) + Math.abs(Math.cos(rad) * height),\n  };\n}\n\n// ‚úÖ Pe≈Çna rozdzielczo≈õƒá przy zapisie\nasync function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n  const image = await createImage(imageSrc);\n  const rad = getRadianAngle(rotation);\n  const { width: bBoxWidth, height: bBoxHeight } = rotateSize(image.width, image.height, rotation);\n\n  const safeCanvas = document.createElement('canvas');\n  safeCanvas.width = bBoxWidth;\n  safeCanvas.height = bBoxHeight;\n  const safeCtx = safeCanvas.getContext('2d');\n  safeCtx.translate(bBoxWidth / 2, bBoxHeight / 2);\n  safeCtx.rotate(rad);\n  safeCtx.drawImage(image, -image.width / 2, -image.height / 2);\n\n  const outCanvas = document.createElement('canvas');\n  outCanvas.width = pixelCrop.width;\n  outCanvas.height = pixelCrop.height;\n  const outCtx = outCanvas.getContext('2d');\n  outCtx.imageSmoothingEnabled = true;\n  outCtx.imageSmoothingQuality = 'high';\n  outCtx.drawImage(\n    safeCanvas,\n    pixelCrop.x,\n    pixelCrop.y,\n    pixelCrop.width,\n    pixelCrop.height,\n    0,\n    0,\n    pixelCrop.width,\n    pixelCrop.height\n  );\n\n  return new Promise((resolve) => {\n    outCanvas.toBlob((blob) => {\n      const url = URL.createObjectURL(blob);\n      resolve(url);\n    }, 'image/jpeg', 1.0); // 1.0 = bez kompresji\n  });\n}\n\n/* ---------- Komponent g≈Ç√≥wny ---------- */\nexport default function PhotoEditor() {\n  const [imageSrc, setImageSrc] = useState(null);\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [orders, setOrders] = useState([]);\n  const [format, setFormat] = useState('10x15');\n  const [paper, setPaper] = useState('glossy');\n  const [colorMode, setColorMode] = useState('color');\n  const [quantity, setQuantity] = useState(1);\n  const [darkMode, setDarkMode] = useState(true);\n  const [imageSize, setImageSize] = useState({ width: 0, height: 0 });\n  const [isLandscape, setIsLandscape] = useState(false);\n  const [showOrderForm, setShowOrderForm] = useState(false);\n  const [clientData, setClientData] = useState({ name: '', surname: '', address: '', phone: '' });\n\n  const priceMap = { '10x15': 1.5, '13x18': 2, '15x21': 2.5, '18x25': 5, '21x30': 10 };\n  const aspectMap = { '10x15': 2 / 3, '13x18': 13 / 18, '15x21': 5 / 7, '18x25': 18 / 25, '21x30': 7 / 10 };\n  const currentAspect = isLandscape ? 1 / (aspectMap[format] || 1) : aspectMap[format] || 1;\n\n  /* ---------- Wczytanie pliku ---------- */\n  const onFileChange = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const url = URL.createObjectURL(file);\n    setImageSrc(url);\n    setPreview(null);\n    setCrop({ x: 0, y: 0 });\n    setZoom(1);\n    setRotation(0);\n    createImage(url).then((img) => setImageSize({ width: img.width, height: img.height }));\n  };\n\n  const generatePreview = useCallback(\n    debounce(async (pixels) => {\n      if (!imageSrc || !pixels) return;\n      const url = await getCroppedImg(imageSrc, pixels, rotation);\n      setPreview((oldUrl) => {\n        if (oldUrl) URL.revokeObjectURL(oldUrl);\n        return url;\n      });\n    }, 300),\n    [imageSrc, rotation]\n  );\n\n  const onCropComplete = useCallback(\n    (croppedArea, croppedPixels) => {\n      setCroppedAreaPixels(croppedPixels);\n      generatePreview(croppedPixels);\n    },\n    [generatePreview]\n  );\n\n  const computeMinZoom = useCallback(() => {\n    if (!imageSize.width || !croppedAreaPixels) return 0.1;\n    const cropW = croppedAreaPixels.width;\n    const cropH = croppedAreaPixels.height;\n    const rad = getRadianAngle(rotation);\n    const cos = Math.abs(Math.cos(rad));\n    const sin = Math.abs(Math.sin(rad));\n    const rotatedW = cropW * cos + cropH * sin;\n    const rotatedH = cropW * sin + cropH * cos;\n    return Math.max(rotatedW / imageSize.width, rotatedH / imageSize.height, 0.1);\n  }, [croppedAreaPixels, rotation, imageSize]);\n\n  useEffect(() => {\n    if (!imageSize.width || !croppedAreaPixels) return;\n    const minZoom = computeMinZoom();\n    if (zoom < minZoom) setZoom(minZoom);\n  }, [rotation, zoom, croppedAreaPixels, imageSize, computeMinZoom]);\n\n  const calculatePrice = useCallback((format, quantity) => {\n    let base = priceMap[format] || 0;\n    let mult = 1;\n    if (quantity < 5) mult = 2;\n    else if (quantity < 10) mult = 1.5;\n    else if (quantity >= 100) mult = 0.5;\n    return (base * mult * quantity).toFixed(2);\n  }, []);\n\n  const addOrder = () => {\n    if (!preview) return;\n    const newOrder = {\n      id: orders.length + 1,\n      format: isLandscape ? format + ' (obr.)' : format,\n      paper,\n      colorMode,\n      quantity,\n      price: calculatePrice(format, quantity),\n      preview,\n    };\n    setOrders([newOrder, ...orders]);\n    setPreview(null);\n    setImageSrc(null);\n    setCrop({ x: 0, y: 0 });\n    setZoom(1);\n    setRotation(0);\n    setCroppedAreaPixels(null);\n  };\n\n  const resetImage = () => {\n    setImageSrc(null);\n    setPreview(null);\n    setCrop({ x: 0, y: 0 });\n    setZoom(1);\n    setRotation(0);\n    setCroppedAreaPixels(null);\n  };\n\n  /* ---------- Wy≈õlij zam√≥wienie ---------- */\n  const sendOrder = async () => {\n    if (orders.length === 0) return alert('Brak zam√≥wie≈Ñ.');\n    if (!clientData.name || !clientData.surname || !clientData.phone)\n      return alert('Uzupe≈Çnij dane klienta (imiƒô, nazwisko, telefon).');\n\n    try {\n      const formData = new FormData();\n\n      // dane klienta\n      formData.append(\"name\", clientData.name);\n      formData.append(\"surname\", clientData.surname);\n      formData.append(\"address\", clientData.address);\n      formData.append(\"phone\", clientData.phone);\n\n      // pliki i parametry\n      for (let i = 0; i < orders.length; i++) {\n        const o = orders[i];\n        const blob = await fetch(o.preview).then(r => r.blob());\n        formData.append(`orders[${i}][format]`, o.format);\n        formData.append(`orders[${i}][paper]`, o.paper);\n        formData.append(`orders[${i}][colorMode]`, o.colorMode);\n        formData.append(`orders[${i}][quantity]`, o.quantity);\n        formData.append(`orders[${i}][price]`, o.price);\n        formData.append(`orders[${i}][image]`, blob, `${o.format}_${o.paper}_${o.colorMode}_${i + 1}.jpg`);\n      }\n\n      const res = await fetch(\"https://fotofleszkrywult-cyber/photo-server/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!res.ok) throw new Error(\"B≈ÇƒÖd serwera\");\n\n      alert(\"‚úÖ Zam√≥wienie wys≈Çane!\");\n      setOrders([]);\n      setClientData({ name: \"\", surname: \"\", address: \"\", phone: \"\" });\n      setShowOrderForm(false);\n    } catch (err) {\n      console.error(\"‚ùå B≈ÇƒÖd po≈ÇƒÖczenia:\", err);\n      alert(\"‚ùå B≈ÇƒÖd po≈ÇƒÖczenia lub przetwarzania. Sprawd≈∫ konsolƒô.\");\n    }\n  };\n\n  /* ---------- UI ---------- */\n  return (\n    <motion.div animate={{ backgroundColor: darkMode ? \"#1a1a1a\" : \"#f5f5f5\" }} transition={{ duration: 0.5 }} style={{ minHeight: \"100vh\", padding: 20 }}>\n      <div style={{ display: 'flex', gap: 20 }}>\n        {/* Lewy panel */}\n        <div style={{ width: '60%', backgroundColor: darkMode ? \"#333\" : \"#fff\", borderRadius: 8, overflow: 'hidden', display: 'flex', flexDirection: 'column', alignItems: 'center', padding: 20, height: 900 }}>\n          <div style={{ flex: 1, width: '100%', overflowY: 'auto', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 10 }}>\n            {!imageSrc && !preview && (\n              <div style={{ width: '100%', height: 400, position: 'relative', display: 'flex', justifyContent: 'center', alignItems: 'center', borderRadius: 8, overflow: 'hidden', backgroundColor: darkMode ? '#444' : '#eee' }}>\n                <input type=\"file\" onChange={onFileChange} style={{ position: 'absolute', width: '100%', height: '100%', opacity: 0, cursor: 'pointer' }} />\n                <span style={{ color: '#888', pointerEvents: 'none' }}>Wybierz zdjƒôcie</span>\n              </div>\n            )}\n\n            {imageSrc && (\n              <>\n                <div style={{ width: '100%', height: 400, position: 'relative', borderRadius: 8, overflow: 'hidden' }}>\n                  <Cropper\n                    image={imageSrc}\n                    crop={crop}\n                    zoom={zoom}\n                    rotation={rotation}\n                    aspect={currentAspect}\n                    cropShape=\"rect\"\n                    objectFit=\"contain\"\n                    restrictPosition={true}\n                    onCropChange={setCrop}\n                    onCropComplete={onCropComplete}\n                    onZoomChange={(v) => setZoom(Math.max(v, computeMinZoom()))}\n                    showGrid={true}\n                  />\n                </div>\n                <motion.button whileHover={{ scale: 1.05 }} onClick={resetImage} style={{ marginTop: 10 }}>\n                  Wybierz inne zdjƒôcie\n                </motion.button>\n\n                {preview && (\n                  <div style={{ width: 300, display: 'flex', flexDirection: 'column', alignItems: 'center', marginTop: 20 }}>\n                    <div style={{ marginBottom: 5, fontWeight: 'bold', color: '#fff' }}>PodglƒÖd kadru</div>\n                    <div style={{ width: 300, height: 300, overflow: 'hidden', display: 'flex', justifyContent: 'center', alignItems: 'center', backgroundColor: 'transparent' }}>\n                      <img\n                        src={preview}\n                        alt=\"Live preview\"\n                        style={{\n                          width: '100%',\n                          height: '100%',\n                          objectFit: 'contain',\n                          filter: colorMode === 'bw' ? 'grayscale(100%)' : colorMode === 'sepia' ? 'sepia(100%)' : 'none',\n                        }}\n                      />\n                    </div>\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Prawy panel */}\n        <div style={{ width: '40%', padding: 20, borderRadius: 8, backgroundColor: darkMode ? '#222' : '#fff', color: darkMode ? '#fff' : '#000', display: 'flex', flexDirection: 'column', gap: 12 }}>\n          <motion.button onClick={() => setDarkMode(!darkMode)} whileHover={{ scale: 1.2 }} style={{ fontSize: 24, cursor: 'pointer', background: 'transparent', border: 'none', color: darkMode ? \"#FFD700\" : \"#555\" }}>\n            {darkMode ? \"üåû\" : \"üåô\"}\n          </motion.button>\n\n          <label>Format papieru</label>\n          <select value={format} onChange={(e) => setFormat(e.target.value)}>\n            <option value=\"10x15\">10√ó15</option>\n            <option value=\"13x18\">13√ó18</option>\n            <option value=\"15x21\">15√ó21</option>\n            <option value=\"18x25\">18√ó25</option>\n            <option value=\"21x30\">21√ó30</option>\n          </select>\n\n          <label style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\n            <input type=\"checkbox\" checked={isLandscape} onChange={e => setIsLandscape(e.target.checked)} /> Obr√≥ƒá orientacjƒô\n          </label>\n\n          <label>Rodzaj papieru</label>\n          <select value={paper} onChange={(e) => setPaper(e.target.value)}>\n            <option value=\"glossy\">Glossy</option>\n            <option value=\"lustre\">Lustre</option>\n          </select>\n\n          <label>Kolor</label>\n          <select value={colorMode} onChange={(e) => setColorMode(e.target.value)}>\n            <option value=\"color\">Kolorowe</option>\n            <option value=\"bw\">Czarno-bia≈Çe</option>\n            <option value=\"sepia\">Sepia</option>\n          </select>\n\n          <label>Ilo≈õƒá</label>\n          <input type=\"number\" min=\"1\" value={quantity} onChange={(e) => setQuantity(Number(e.target.value))} />\n\n          <label>Zoom</label>\n          <Slider min={0.1} max={3} step={0.01} value={zoom} onChange={(_, v) => setZoom(Math.max(v, computeMinZoom()))} />\n\n          <label>Obr√≥t kadru (¬∞)</label>\n          <Slider min={-180} max={180} step={1} value={rotation} onChange={(_, v) => setRotation(v)} />\n\n          <motion.button whileHover={{ scale: 1.05 }} onClick={addOrder}>Dodaj do zam√≥wie≈Ñ</motion.button>\n\n          <h3>Zam√≥wienia</h3>\n          <ul style={{ listStyle: 'none', padding: 0 }}>\n            {orders.map((o, index) => (\n              <li key={o.id} style={{ display: 'flex', alignItems: 'center', marginBottom: 10, gap: 10, backgroundColor: darkMode ? '#333' : '#f5f5f5', padding: 8, borderRadius: 6 }}>\n                <img src={o.preview} alt=\"mini\" style={{ width: 50, height: 50, objectFit: 'cover', borderRadius: 4, border: '1px solid #ccc' }} />\n                <div style={{ flex: 1 }}>\n                  <div>{o.format}, {o.paper}, {o.colorMode}</div>\n                </div>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={o.quantity}\n                  onChange={(e) => {\n                    const newQuantity = Number(e.target.value);\n                    setOrders(prev => {\n                      const updated = [...prev];\n                      updated[index] = { ...updated[index], quantity: newQuantity, price: calculatePrice(updated[index].format, newQuantity) };\n                      return updated;\n                    });\n                  }}\n                  style={{ width: 60, textAlign: 'center', borderRadius: 4 }}\n                />\n                <div style={{ width: 60, textAlign: 'right' }}>{o.price} z≈Ç</div>\n                <button onClick={() => setOrders(prev => prev.filter(order => order.id !== o.id))} style={{ cursor: 'pointer', border: 'none', background: 'transparent', color: 'red', fontSize: 16 }}>‚ùå</button>\n              </li>\n            ))}\n          </ul>\n\n          <div style={{ marginTop: 10, fontWeight: 'bold', textAlign: 'right' }}>\n            ≈ÅƒÖczna kwota: {orders.reduce((sum, o) => sum + Number(o.price), 0).toFixed(2)} z≈Ç\n          </div>\n\n          {orders.length > 0 && !showOrderForm &&\n            <motion.button whileHover={{ scale: 1.05 }} style={{ marginTop: 20 }} onClick={() => setShowOrderForm(true)}>\n              Realizuj zam√≥wienie\n            </motion.button>\n          }\n\n          {showOrderForm && (\n            <div style={{ marginTop: 20, display: 'flex', flexDirection: 'column', gap: 8 }}>\n              <input type=\"text\" placeholder=\"Imiƒô\" value={clientData.name} onChange={(e) => setClientData({ ...clientData, name: e.target.value })} />\n              <input type=\"text\" placeholder=\"Nazwisko\" value={clientData.surname} onChange={(e) => setClientData({ ...clientData, surname: e.target.value })} />\n              <input type=\"text\" placeholder=\"Adres\" value={clientData.address} onChange={(e) => setClientData({ ...clientData, address: e.target.value })} />\n              <input type=\"text\" placeholder=\"Telefon\" value={clientData.phone} onChange={(e) => setClientData({ ...clientData, phone: e.target.value })} />\n              <motion.button whileHover={{ scale: 1.05 }} style={{ marginTop: 10 }} onClick={sendOrder}>\n                Wy≈õlij zam√≥wienie\n              </motion.button>\n            </div>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}